@use 'sass:map';
@use 'sass:math';
@use '../../../../node_modules/sassdoc-theme-herman/scss/utilities';
@use '../constants/font-stacks' as fs;

////
/// Typographic settings
///
/// @group config__typography
/// @access public
/// @type list
/// @todo Customize it to match your design needs or combine with the already available font stacks.
///
////

/// Title font stack
///
/// @font title-font-stack (regular, italic, bold, bold italic)
///   <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap">
/// @example scss
/// h1, h2, h3, h4, h5, h6,
/// legend,
/// caption,
/// details > summary {
///   font-family: $title-font-stack;
/// }
///
$title-font-stack: 'PT Sans', fs.$NATIVE-FONT-STACK !default;


/// Text body font stack
///
/// @font text-font-stack (normal, bold, italic, bold italic)
/// @example scss
/// body {
///   font-family: $text-font-stack;
/// }
///
$text-font-stack: 'PT Sans', fs.$NATIVE-FONT-STACK !default;


/// Code (monospace) font stack
///
/// @font code-font-stack (normal, bold, italic, bold italic)
/// @example scss
/// pre > code {
/// 	font-family: $code-font-stack;
/// }
///
$code-font-stack: fs.$BASIC-CODE-FONT-STACK !default;


/// Body text font-size
///
/// @type number
///
$body-font-size: 1em !default;

@include utilities.add('sizes', 'typography', ('body-font-size': $body-font-size));


/// Typographic modular scale
///
/// ms(16)    105.332px
/// ms(15)    93.628px
/// ms(14)    83.225px
/// ms(13)    73.978px
/// ms(12)    65.758px
/// ms(11)    58.452px
/// ms(10)    51.957px
/// ms(9)     46.184px
/// ms(8)     41.053px
/// ms(7)     36.491px
/// ms(6)     32.437px
/// ms(5)     28.833px
/// ms(4)     25.629px
/// ms(3)     22.781px
/// ms(2)     20.25px
/// ms(1)     18px
/// ms(0)     16px
/// ms(-1)    14.222px
/// ms(-2)    12.642px
/// ms(-3)    11.237px
/// ms(-4)     9.989px
/// ms(-5)     8.879px
/// ms(-6)     7.892px
///
/// @access public
/// @sizes modular-scale {text}
/// @type map
/// @link http://www.modularscale.com/?1&rem&1.125
///
$modularscale: (
  base: 1rem,
  ratio: 1.125,
);

$_sizes: ();

@for $i from -2 through 7 {
  $value: math.pow(map.get($modularscale, 'ratio'), $i) * map.get($modularscale, 'base');
  $name: if($i == 0, #{(math.div($value, 1rem) * 16px)} #{'(base)'}, #{(math.div($value, 1rem) * 16px)} #{'('} $i #{')'});

  $_sizes: map.set($_sizes, $name, $value);
}

@include utilities.add('sizes', 'modular-scale', $_sizes);


/// Default Leading
///
/// @ratios leading
/// @type number
///
$leading: 1.5 !default;

@include utilities.add('ratios', 'leading', ('leading': $leading));


/// Flexible leadings map
///
/// @ratios flexible-leading
/// @type Map
/// @prop {number} min - minimum line height expressed without unit
/// @prop {number} max - maximum line height expressed without unit
///
$leadings: (
  'min': 1.15,
  'max': 1.5,
) !default;

@include utilities.add('ratios', 'flexible-leading', (
  'minimum leading': map.get($leadings, 'min'),
  'maximum leading': map.get($leadings, 'max'),
));


/// Optimum line lengths
///
/// @type Map
/// @sizes line-lengths {ruler-large}
/// @prop {number} min - minimum line length expressed in `em`
/// @prop {number} max - maximum line length expressed in `em`
/// @prop {number} column - best line length for columns
///
$line-lengths: (
  'min': 21em,
  'max': 37.5em,
  'column': 22.5em, // â‰…45chars width
) !default;

@include utilities.add('sizes', 'line-lengths', (
  'minimum line width': map.get($line-lengths, 'min'),
  'maximum line width': map.get($line-lengths, 'max'),
  'column width': map.get($line-lengths, 'column'),
));


/// Font weights map
///
/// @access public
/// @prop {string} weight - Pure colors or a map of tones
/// @todo Customize the weights or add new ones to match your design needs.
/// @type Map
///
$font-weights: (
  'text': 400,
  'bold': 600,
  'extrabold': 800,
  'heading': 600,
);
