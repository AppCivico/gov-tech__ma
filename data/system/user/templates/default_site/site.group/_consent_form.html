{!-- DO NOT CACHE --}

{exp:consent:requests consent="ee:cookies_functionality"}
    <script>
        // store available consent requests
        window['ma:consents'] = window['ma:consents'] || [];
        window['ma:consents'].push('{consent_short_name}');
    </script>
{/exp:consent:requests}

{if ! consent:has_responded:ee:cookies_functionality}
    <div class="consent-request__wrapper" data-js="toggle">
        {exp:consent:requests consent="ee:cookies_functionality"}
            <div class="consent-request">
                <div role="group" class="consent-request__content">
                    {consent_request}
                </div>

                <div role="group" class="consent-request__controls">
                    <a class="consent-controller consent-request__grant-button like-a__button like-a__button--submit" href="{consent_grant_url}">Aceito</a>

                    <a href="{global:root-site-url}/privacidade/cookies" target="_blank">
                        Configurações e Política de monitoramento por cookies
                    </a>
                </div>
            </div>
        {/exp:consent:requests}
    </div>
{if:else}
    {exp:consent:requests consent="ee:cookies_functionality"}
        {if consent_granted}
            <script>
                document.cookie = '{consent_short_name}=; SameSite=Strict; Secure;max-age=60*60*24*365';
            </script>
        {/if}
    {/exp:consent:requests}
{/if}
